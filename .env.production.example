# PlaidHealth API - Production Configuration
# Copy this file to .env and fill in your values
# NEVER commit the actual .env file to version control!

#=============================================================================
# SERVER CONFIGURATION
#=============================================================================

# Server port (default: 3000)
PORT=3000

# Environment mode - MUST be 'production' for production deployments
NODE_ENV=production

# Logging level: debug, info, warn, error
LOG_LEVEL=info

#=============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
#=============================================================================

# Option 1: Connection string (recommended for production)
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://plaidhealth:your_secure_password@your-db-host:5432/plaidhealth?sslmode=require

# Option 2: Individual parameters (if not using DATABASE_URL)
# PGHOST=your-db-host
# PGPORT=5432
# PGUSER=plaidhealth
# PGPASSWORD=your_secure_password
# PGDATABASE=plaidhealth

#=============================================================================
# REDIS CONFIGURATION
#=============================================================================

# Redis connection URL
# Format: redis://[:password@]host:port[/database]
# For Redis with TLS: rediss://...
REDIS_URL=redis://your-redis-host:6379

# For Redis with password:
# REDIS_URL=redis://:your_redis_password@your-redis-host:6379

#=============================================================================
# SECURITY CONFIGURATION (REQUIRED)
#=============================================================================

# Session encryption secret - MUST be at least 32 characters
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=your_64_character_or_longer_session_secret_here_change_this_immediately

# Token encryption key - MUST be exactly 64 hex characters (32 bytes)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# This encrypts healthcare tokens at rest - losing this key means losing access to stored tokens
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# OAuth redirect URI - your production domain
REDIRECT_URI=https://api.yourdomain.com/callback

#=============================================================================
# GOOGLE OAUTH CONFIGURATION (Web Authentication)
#=============================================================================

# Get credentials from: https://console.cloud.google.com/apis/credentials
# Required for web-based user authentication

GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

#=============================================================================
# HEALTHCARE PROVIDER CONFIGURATIONS
# Configure only the providers you plan to use
#=============================================================================

# Epic FHIR API
# Register at: https://fhir.epic.com/Developer/Apps
EPIC_CLIENT_ID=your_epic_client_id
EPIC_AUTHORIZATION_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/authorize
EPIC_TOKEN_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token
EPIC_FHIR_BASE_URL=https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4

# Aetna FHIR API
# Register at: https://developerportal.aetna.com/
# AETNA_CLIENT_ID=your_client_id
# AETNA_CLIENT_SECRET=your_client_secret
# AETNA_AUTHORIZATION_URL=https://vteapif1.aetna.com/fhirdemo/v1/fhirserver_auth/oauth2/authorize
# AETNA_TOKEN_URL=https://vteapif1.aetna.com/fhirdemo/v1/fhirserver_auth/oauth2/token
# AETNA_FHIR_BASE_URL=https://vteapif1.aetna.com/fhirdemo/v1
# AETNA_AUD=https://vteapif1.aetna.com/fhirdemo

# Anthem (Elevance Health) FHIR API
# Register at: https://www.anthem.com/developers
# ANTHEM_CLIENT_ID=your_client_id
# ANTHEM_AUTHORIZATION_URL=https://patient360c.anthem.com/P360Member/identityserver/connect/authorize
# ANTHEM_TOKEN_URL=https://patient360c.anthem.com/P360Member/identityserver/connect/token
# ANTHEM_FHIR_BASE_URL=https://patient360c.anthem.com/P360Member/api/fhir

# Blue Cross Blue Shield Minnesota
# Register at: https://bluecrossmn3.okta.com/signin/register
# BCBS_MN_CLIENT_ID=your_client_id
# BCBS_MN_CLIENT_SECRET=your_client_secret
# BCBS_MN_AUTHORIZATION_URL=https://interop-preview.bluecrossmn.com/fhir/authorize
# BCBS_MN_TOKEN_URL=https://interop-preview.bluecrossmn.com/fhir/token
# BCBS_MN_FHIR_BASE_URL=https://preview-api.bluecrossmn.com/fhir

# Blue Cross Blue Shield Tennessee (1UpHealth Demo)
# Register at: https://fdp.edifecsfedcloud.com/#/portal/bcbstn/home
# BCBS_TN_CLIENT_ID=your_client_id
# BCBS_TN_CLIENT_SECRET=your_client_secret
# BCBS_TN_AUTHORIZATION_URL=https://auth.1uphealthdemo.com/oauth2/authorize/test
# BCBS_TN_TOKEN_URL=https://auth.1uphealthdemo.com/oauth2/token
# BCBS_TN_FHIR_BASE_URL=https://api.1uphealthdemo.com/r4

# NextGen Healthcare
# Register at: https://www.nextgen.com/developer-program
# NEXTGEN_CLIENT_ID=your_client_id
# NEXTGEN_CLIENT_SECRET=your_client_secret
# NEXTGEN_AUTHORIZATION_URL=https://fhir.nextgen.com/nge/prod/patientoauth/authorize
# NEXTGEN_TOKEN_URL=https://fhir.nextgen.com/nge/prod/patientoauth/token
# NEXTGEN_FHIR_BASE_URL=https://fhir.nextgen.com/nge/prod/fhir-api-r4/fhir/r4

# CMS Blue Button 2.0 (Medicare)
# Register at: https://sandbox.bluebutton.cms.gov/
# BLUEBUTTON_CLIENT_ID=your_client_id
# BLUEBUTTON_CLIENT_SECRET=your_client_secret
# BLUEBUTTON_AUTHORIZATION_URL=https://sandbox.bluebutton.cms.gov/v2/o/authorize/
# BLUEBUTTON_TOKEN_URL=https://sandbox.bluebutton.cms.gov/v2/o/token/
# BLUEBUTTON_FHIR_BASE_URL=https://sandbox.bluebutton.cms.gov/v2/fhir

# Molina Healthcare
# Register at: https://developer.interop.molinahealthcare.com/
# MOLINA_CLIENT_ID=your_client_id
# MOLINA_CLIENT_SECRET=your_client_secret
# MOLINA_AUTHORIZATION_URL=your_authorization_url
# MOLINA_TOKEN_URL=your_token_url
# MOLINA_FHIR_BASE_URL=https://api.interop.molinahealthcare.com/patientaccess

# Kaiser Permanente
# Register at: https://developer.kp.org/
# KAISER_CLIENT_ID=your_client_id
# KAISER_CLIENT_SECRET=your_client_secret
# KAISER_AUTHORIZATION_URL=https://kpx-service-bus.kp.org/service/kpx/v1/oauth2/authorize
# KAISER_TOKEN_URL=https://kpx-service-bus.kp.org/service/kpx/v1/oauth2/token
# KAISER_FHIR_BASE_URL=https://kpx-service-bus.kp.org/service/cdo/siae/healthplankpxv1rc/FHIR/api
